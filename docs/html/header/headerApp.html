<div class='gridClass'>
  <div class='elementNone'>
     <button id='complexTranslation'></button>
    <button id='darkTheme'></button>
    <button id='setBttnLang'></button>
    <span id='themeNameSpan' data-i18n='tChangeTheme'>Change theme</span>
  </div>
  <div class='gridTwelve'>
    <div class='gridClass'>
      <div id='chartHeader' style='width: 100%;'></div>
    </div>
  </div>
</div>

<style>
#chartHeader {
  width: 100%;
  height: 72px;
  position: fixed !important;
  inset: 0;
  background-color: #49a6de;
  border-bottom: 3px solid #fee200;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {

  const chartHeaderUse = echarts.init(document.getElementById('chartHeader'));

  window.addEventListener('resize', function() {
    chartHeaderUse.resize();
  });

  function updateNavbar1(themeName, calculatorName, helpName) {
    const option = {

      tooltip: [{
        show: true
      }],

      title: [{
        text: "{a|price}{b|meter}",
        left: '10%',
        top: '2%',
        textStyle: {
          rich: {
            a: {
              color: "transparent",
              textBorderWidth: 1,
              textBorderColor: "#242832",
              fontSize: 50,
              fontWeight: "bold",
              fontFamily: "Lato"
            },
            b: {
              color: "#fee200",
              textBorderWidth: 1,
              fontSize: 50,
              fontWeight: "bold",
              fontFamily: "Lato"
            }
          }
        }
      }],

      graphic: [{
        type: 'image',
        left: '5%',
        top: '9%',
        style: {
          image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/BMW.svg/1015px-BMW.svg.png',
          width: 55,
          height: 55
        }
      }],

      toolbox: [{
        tooltip: { // same as option.tooltip
          show: true,
          formatter: function(params) {
            const title = params.title;
            return '<div style="color: #fafac0;">' +
              title + '</div>'
          },
          backgroundColor: '#242832',
          extraCssText: 'opacity: .75;' // user-defined CSS styles
        },
        show: true,
        showTitle: false,
        top: '12%',
        right: '3%',
        itemSize: 40,
        itemGap: 20,

        feature: {

          myToolTheme: {
            title: "Change theme",
            icon: 'M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l14.1 84.7 84.7 14.1c5.4 .9 10 4.5 12.1 9.6s1.5 10.9-1.6 15.4l-38.5 55c-2.2-.1-4.4-.2-6.7-.2c-23.3 0-45.1 6.2-64 17.1l0-1.1c0-53-43-96-96-96s-96 43-96 96s43 96 96 96c8.1 0 15.9-1 23.4-2.9c-36.6 18.1-63.3 53.1-69.8 94.9l-24.4 17c-4.5 3.1-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM144 208a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM639.9 431.9c0 44.2-35.8 80-80 80H288c-53 0-96-43-96-96c0-47.6 34.6-87 80-94.6l0-1.3c0-53 43-96 96-96c34.9 0 65.4 18.6 82.2 46.4c13-9.1 28.8-14.4 45.8-14.4c44.2 0 80 35.8 80 80c0 5.9-.6 11.7-1.9 17.2c37.4 6.7 65.8 39.4 65.8 78.7z',
            iconStyle: {
              color: '#ff8',
              borderWidth: 1,
              borderColor: '#242832',
              shadowBlur: 10,
              shadowColor: '#fafac0',
            },
            onclick: function(params) {
              const currentColor = chartHeaderUse.getModel().option.toolbox[0].feature.myToolTheme.iconStyle.color;
              if (currentColor === '#ff8') {
                chartHeaderUse.getModel().option.toolbox[0].feature.myToolTheme.iconStyle.color = '#3d475e';
                chartHeaderUse.getModel().option.toolbox[0].feature.myToolTheme.iconStyle.shadowColor = '#1f52b8';
              } else {
                chartHeaderUse.getModel().option.toolbox[0].feature.myToolTheme.iconStyle.color = '#ff8';
                chartHeaderUse.getModel().option.toolbox[0].feature.myToolTheme.iconStyle.shadowColor = '#fafac0';
              }
              chartHeaderUse.setOption(chartHeaderUse.getModel().option);
              $('#darkTheme').click();
            }
          },

          myToolCalculator: {
            title: "Calculator",
            icon: 'M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zM96 64H288c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zm32 160a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM96 352a32 32 0 1 1 0-64 32 32 0 1 1 0 64zM64 416c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM192 256a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zm64-64a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM288 448a32 32 0 1 1 0-64 32 32 0 1 1 0 64z',
            iconStyle: {
              color: '#e44444',
              borderWidth: 1,
              borderColor: '#242832'
            },
            onclick: function() {
              $('#showCalculatorButton').trigger('click');
            }
          },

          myLanguage: {
            title: "Language settings",
            icon: 'M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z',
            iconStyle: {
              color: '#54cede',
              borderWidth: 1,
              borderColor: '#242832'
            },
            onclick: function() {
              $('#setBttnLang').trigger('click');
            }
          },

          myAudioFile: {
            title: "Audio (English only)",
            icon: 'M256 48C141.1 48 48 141.1 48 256v40c0 13.3-10.7 24-24 24s-24-10.7-24-24V256C0 114.6 114.6 0 256 0S512 114.6 512 256V400.1c0 48.6-39.4 88-88.1 88L313.6 488c-8.3 14.3-23.8 24-41.6 24H240c-26.5 0-48-21.5-48-48s21.5-48 48-48h32c17.8 0 33.3 9.7 41.6 24l110.4 .1c22.1 0 40-17.9 40-40V256c0-114.9-93.1-208-208-208zM144 208h16c17.7 0 32 14.3 32 32V352c0 17.7-14.3 32-32 32H144c-35.3 0-64-28.7-64-64V272c0-35.3 28.7-64 64-64zm224 0c35.3 0 64 28.7 64 64v48c0 35.3-28.7 64-64 64H352c-17.7 0-32-14.3-32-32V240c0-17.7 14.3-32 32-32h16z',
            iconStyle: {
              color: '#3455eb',
              borderWidth: 1,
              borderColor: '#242832'
            },
            onclick: function() {
              $('#glideJsIntro').trigger('click');
            }
          },

          myToolHelp: {
            title: "Help",
            icon: 'M160 64c0-35.3 28.7-64 64-64H576c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H336.8c-11.8-25.5-29.9-47.5-52.4-64H384V320c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v32h64V64L224 64v49.1C205.2 102.2 183.3 96 160 96V64zm0 64a96 96 0 1 1 0 192 96 96 0 1 1 0-192zM133.3 352h53.3C260.3 352 320 411.7 320 485.3c0 14.7-11.9 26.7-26.7 26.7H26.7C11.9 512 0 500.1 0 485.3C0 411.7 59.7 352 133.3 352z',
            iconStyle: {
              color: '#d074f7',
              borderWidth: 1,
              borderColor: '#242832'
            },
            onclick: function() {
              $('#glideJsIntro').trigger('click');
            }
          }

        }

      }]

    };
    chartHeaderUse.setOption(option);
  };

  function updateNavbar2() {
    const themeName = $('#themeNameSpan').text();
    const calculatorName = $('#calculatorNameSpan').text();
    const helpName = $('#helpNameSpan').text();
    updateNavbar1(themeName, calculatorName, helpName);
  };

  $("#complexTranslation").on("click", function() {
    updateNavbar2();
  });

  updateNavbar2();

});
</script>
